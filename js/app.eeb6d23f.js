(function(){"use strict";var t={1160:function(t,e,o){var i=o(5471),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{name:"fade"}},[t.importing?e("Importing"):e("div",{staticClass:"app"},[e("header",[e("h1",[t._v("Kinklist")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("div",{staticClass:"spacer"}),e("Legend",{attrs:{ratings:t.ratings},on:{updateRatings:function(e){return t.updateRatings(e)}}}),e("ImportButton",{on:{fileSelected:function(e){return t.importFromFile(e)}}}),e("ExportButton",{attrs:{loading:t.uploading},on:{click:function(e){return t.exportImage()}}}),e("DownloadButton",{on:{click:function(e){return t.downloadImage()}}}),e("ThemeSwitch"),e("div",{staticClass:"dropdown-container"},[e("button",{staticClass:"dropdown-toggle hide-text",on:{click:function(e){return t.toggleOptions(!0)}}},[t._v("Options")]),e("transition",{attrs:{name:"fade"}},[t.showOptions?e("div",{staticClass:"options-dropdown"},[e("div",{staticClass:"backdrop",on:{click:function(e){return t.toggleOptions(!1)}}}),e("div",{staticClass:"options-dropdown-content"},[e("div",{staticClass:"option checkbox"}),e("div",{staticClass:"option checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.encodeData,expression:"encodeData"}],attrs:{type:"checkbox",id:"encodeData"},domProps:{checked:Array.isArray(t.encodeData)?t._i(t.encodeData,null)>-1:t.encodeData},on:{change:function(e){var o=t.encodeData,i=e.target,n=!!i.checked;if(Array.isArray(o)){var s=null,a=t._i(o,s);i.checked?a<0&&(t.encodeData=o.concat([s])):a>-1&&(t.encodeData=o.slice(0,a).concat(o.slice(a+1)))}else t.encodeData=n}}}),e("label",{attrs:{for:"encodeData"}},[t._v("Encode data")])]),e("button",{staticClass:"about-btn",on:{click:function(e){return t.showAbout()}}},[t._v("About")]),e("div",{staticClass:"client-id"},[e("label",{attrs:{for:"clientid"}},[t._v("FreeHost Client ID")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],attrs:{type:"text",name:"clientid"},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}})])])]):t._e()])],1)],1),e("main",{staticClass:"body"},t._l(t.columns,function(o,i){return e("div",{key:`col-${i}`,staticClass:"column"},t._l(o,function(o){return e("Category",{key:o.name,attrs:{category:o,ratings:t.ratings},on:{removeCategory:function(e){return t.removeCategory(o)},addKink:function(e){return t.addKink(o)},removeKink:function(e){return t.removeKink(o,e)}}})}),1)}),0),e("button",{staticClass:"icon-button add-category-btn add-icon",on:{click:function(e){return t.addCategory()}}},[e("span",{staticClass:"sr-only tooltip tooltip-left"},[t._v("Add category")])])])],1)},s=[],a=o(2473),r=(o(4114),o(8111),o(2489),o(1701),o(8237),o(3579),o(1635)),l=o(9603);const c=()=>new Array(5).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36)).join("-"),u=()=>[{name:"N/A",color:"--gen-pair(#DFE0E2)"},{name:"Want to try",color:"--gen-pair(#AEAFB0)"},{name:"Love it",color:"--semantic-pair(#6DB5FE)"},{name:"Like it",color:"--semantic-pair(#23FD22)"},{name:"OK (indifferent)",color:"--semantic-pair(#FDFD6B)"},{name:"Maybe (Soft Limit)",color:"--semantic-pair(#F57900)"},{name:"No (Hard Limit)",color:"--semantic-pair(#910000)"}],d=(t,e,o,i)=>({id:c(),name:t,subcategories:e,kinks:o.map(t=>({id:c(),name:t,ratings:e.reduce((t,e)=>({...t,[e]:i}),{})}))}),g=t=>[d("Gender interaction",["Male-presenting","Female-presenting","Androgynous"],["One on one","Threesomes","Orgies"],t),d("Bodies",["General"],["Big butts","Big dicks","Big tits","Body hair (armpits)","Body hair (arms)","Body hair (face)","Body hair (genitalia)","Body hair (legs)","Body hair (torso)","Hair (long)","Hair (none)","Hair (short)"],t),d("Accesories",["Self","Partners"],["Piercings (ears)","Piercings (face)","Piercings (genitalia)","Piercings (mouth/tongue)","Piercings (nipples)","Scarification","Tattoos (body)","Tattoos (face)"],t),d("Clothing",["Self","Partners"],["Body harnesses (leather)","Body harnesses (others)","Body harnesses (rope)","Boots","Boxers/boy shorts","Clothed sex","Corsets","Costumes","Crossdressing","Drag","Dresses (casual)","Dresses (formal)","High heels","Jockstraps","Murrsuits","No underwear","Nudity","Panties (crotchless)","Panties","Posture collar","Shirts (casual)","Shirts (formal)","Shirts (tees)","Shoes","Skirts (casual)","Skirts (formal)","Skirts/dresses (very short)","Sneakers","Stockings","Thongs","Uniforms (medical)","Uniforms (millitary/police)","Wigs (fantasy)","Wigs (normal)"],t),d("Materials",["Touching","Wearing"],["Denim","Faux fur","Faux leather","Fur","Lace","Latex","Leather","Satin","Silk","Velvet","Vinyl"],t),d("Butt stuff",["Giving/Doing","Receiving"],["Assjobs","Fingering","Fisting","Penetration (bareback)","Penetration (double)","Penetration (penis)","Penetration (toys)","Penetration (toys, vibrating)","Prolapse","Rimming","Teasing"],t),d("Mouth stuff",["Giving/Doing","Receiving/Wearing"],["Blowjobs","Cunnilingus","Deepthroating","Drooling","Feeding (candy)","Feeding (chocolate)","Feeding (fruit)","Feeding (ice cream)","Feeding (other)","Fingers","Gagging","Gags (ball)","Gags (horsebite)","Gags (phallic)","Gags (ring)","Gags (spider)","Kissing (biting)","Kissing (normal)","Kissing (sloppy)","Penetration (double)","Penetration (penis)","Penetration (toys)"],t),d("Sex, other",["Giving/Doing","Receiving"],["Breast/Chest Play","Docking (breasts)","Docking (penis)","Double barreling","Edging","Footjobs","Handjobs","Nipple Play","Scissoring","Titjobs"],t),d("Sex, vaginal",["Giving/Doing","Receiving"],["Fingering","Fisting","Kissing","Penetration (bareback)","Penetration (double)","Penetration (penis)","Penetration (toys)","Teasing"],t),d("Toys",["Wearing/on self","Giving/on partners"],["Air-suction","Butt plugs","Cock rings","DIY","Fuck machines","Insertable toys (glass)","Insertable toys (inflatable)","Insertable toys (metal)","Kegel balls","Magic wands","Strap-ons (wearing)","Vibrators (external)","Vibrators (internal)"],t),d("Aftercare & Non-sexual",["General"],["Candles/aromas","Caressing","Cuddling","Dinner/lunch","Massages","Ointments/creams","Sleeping/napping","Snacks","Spooning","Talking (discussion)","Talking (reassurance)","Vanilla Sex","Watching TV"],t),d("Cruising",["General"],["Anonymous sex","Dark rooms","Dogging","Exhibitionism","Gloryholes","Sex clubs","Under-stall","Voyeurism"],t),d("Body Worship",["Giving","Receiving"],["Ass worship","Breast worship","Cock worship","Foot worship","Pussy worship"],t),d("Domination",["Top","bottom"],["Begging","Brat play","Crawling","Discipline","Domestic servitude","Eye-contact restriction","Facesitting","Forced orgasm","Full-time power exchange","Kneeling","Learned positions","Orders","Pain training","Pet play","Ruined orgasm","Slavery","Speaking restriction","Washroom restriction"],t),d("Public play",["Top/giving","bottom/receiving"],["Begging","Brat play","Discipline","Eye-contact restriction","Forced orgasm","Kneeling","Learned positions","Masturbation (hands)","Orders","Speaking restriction","Toys (buttplug)","Toys (remote masturbation)","Washroom restriction"],t),d("Restrictive",["Giving/On partners","Receiving/On me"],["Bondage (chains)","Bondage (ropes)","Bondage (shibari)","Bondage (zip ties)","Cages","Chastity","Collar and leash","Restraints (arms behind back)","Restraints (arms in front)","Restraints (hands)","Restraints (hogtie)","Restraints (legs)","Restraints (mummification)","Restraints (spreaders)","Suspension (chains)","Suspension (hooks)","Suspension (rope)"],t),d("Impact Play",["Inflicting","Receiving"],["Bastinado","Belt (buckle)","Belt (strap)","Caning (glass)","Caning (metal)","Caning (plastic/polymers)","Caning (wood)","Cock torture","Flogging","Kicking","Paddling","Punching","Pussy torture","Slapping (breasts)","Slapping (face)","Spanking","Strapping (leather)","Strapping (other)","Strapping (rubber)","Whipping"],t),d("Markings",["On me","On partners"],["Bite marks","Branding (fire)","Branding (ice)","Bruising (heavy)","Bruising (light)","Finger marks","Hickies","Scars","Writing (on body)","Writing (on face)"],t),d("Degradation",["Inflicting/Top","receiving/bottom"],["Bimboification","Body Shaming (general)","Body Shaming (genitals)","Cuckold / cuckquean","Forced feminization","Forced masculinization","Forced shaving (body)","Forced shaving (genitals)","Forced shaving (head)","Forniphilia","Gangbangs","Verbal (good boy/girl)","Verbal (gender/orientation)","Verbal (name calling)","Verbal (other insults)","Verbal (racial)","Verbal (slut shaming)"],t),d("Substances (during play)",["Me","Partners"],["Acid","Alcohol","Drugs (legal)","Drugs (other)","MDMA","Poppers","Tobacco","Weed"],t),d("Consensual Nonconsent",["Aggressor","victim"],["Blackmail / coercion","Forced substances (alcohol)","Forced substances (legal drugs)","Forced substances (other drugs)","Forced substances (tobacco)","Free use (friends)","Free use (partners)","Free use (strangers)","Kidnapping","Rape play","Sleeping sex (unconscious)","Sleeping sex (waking up)"],t),d("Sensations",["Giving/Top","Receiving/bottom"],["Blades (cutting)","Blades (playing)","Clothespins (body)","Clothespins (nipples)","Electrical(cattle prod)","Electrical(TENS Unit)","Electrical(Violet wand)","Feathers","Figging","Fire play","Hair stroking","Head petting","Hot wax","Ice play","Long nails","Nipple clamps","Temperature play","Tickling","Vampire gloves","Wartenberg wheel"],t),d("Sensory Deprivation",["Giving/Top","Receiving/bottom"],["Blindfolds","Earplugss","Full-head Hoods"],t),d("Medical",["Giving/Top","Receiving/bottom"],["Dilation","Needle play","Urethral sounding","Speculum","Sutures"],t),d("Primal",["Predator","prey"],["Biting","Breath Play (Choking)","Crying","Growling","Hair Pulling","Howling","Ripping/tearing clothes","Ripping/tearing underwear","Scratching","Screaming","Wrestling"],t),d("Roleplay",["General"],["Ageplay (ABDL)","Ageplay (other)","Caregiver / little","Cheating","Furries","Incest","Servitude","Teacher/student"],t),d("Fluids",["Giving fluid","Receiving fluid"],["Blood (mine, drinking)","Blood (mine, on body)","Blood (mine, on face)","Blood (partner's, drinking)","Blood (partner's, on body)","Blood (partner's, on face)","Cum (creampie)","Cum (creampie eating)","Cum (facials)","Cum (in mouth)","Cum (kissing)","Cum (on body)","Cum (other)","Lactation (drinking)","Lactation (on body)","Menstruation (licking)","Menstruation","Pee (forced, clothed)","Pee (forced, underwear)","Pee (in mouth)","Pee (on body)","Pee (on face)","Pee (other)","Scat (eating)","Scat (forced, clothed)","Scat (forced, underwear)","Scat (on body)","Scat (on face)","Scat (other)","Spit (in mouth)","Spit (on body)","Spit (on face)","Squirt (in mouth)","Squirt (on body)","Squirt (on face)","Vaginal fluids (in mouth)","Vaginal fluids (on body)","Vaginal fluids (on face)","Vomit (eating)","Vomit (on body)","Vomit (on face)","Vomit (other)"],t),d("Control",["Top/Inflicting","bottom/receiving"],["Forced attire","Forced eating","Forced exercise","Forced masturbation","Forced nudity","Forced sexual orientation","Impregnation"],t),d("Sharing media",["Sharing","Receiving"],["Ass (photos/videos)","Body (clothed)","Body (unclothed)","Detailed stories (audio)","Detailed stories (written)","Face (photos/videos)","Fantasy stories (audio)","Fantasy stories (written)","Feet (photos/videos)","Genitalia (covered)","Genitalia (uncovered)","Humiliating poses (photos/videos)","Kinky sex (photos/videos)","Real stories (audio)","Real stories (written)","Sexual audio (bodily noises)","Sexual audio (moaning)","Sexual audio (stories)","Vanilla sex (photos/videos)"],t)];o(116),o(3110);const m="3.0",p={numCols:6,categoryWidth:550,titleWithoutSubcategoryHeight:70,titleWithSubcategoryHeight:100,categoryRowHeight:50,offsetTop:100,offsetLeft:20,offsetRight:20,offsetBottom:20,legendItemWidth:280,legendOffset:50},h=t=>t.map(t=>({name:t.name,subcategories:t.subcategories.slice(),kinks:t.kinks.map(t=>({name:t.name,ratings:{...t.ratings},comment:t.comment}))})),v=(t,e,o,i)=>{const n=h(t),s=S(o,n,e),{columns:a,tallestColumnHeight:r}=x(n),{canvasWidth:l,canvasHeight:c}=f(r,s.length),{canvas:u,context:d}=b(l,c);return C(d,o),A(d,e,l),y(d,a,e,i),i&&D(d,l,c,s),u},f=(t,e)=>{const o=p.offsetLeft+p.numCols*p.categoryWidth+p.offsetRight,i=p.offsetTop+t+p.offsetBottom+Math.ceil(e/o);return{canvasWidth:o,canvasHeight:i}},y=(t,e,o,i)=>{for(let n=0;n<e.length;n++){const s=e[n],a=p.offsetLeft+p.categoryWidth*n;let r=p.offsetTop;for(const e of s){const n=_(e);w(t,a,r,e,o,i),r+=n}}};function k(t,e){const o=e||document.body;return window.getComputedStyle(o).getPropertyValue(t)}const b=(t,e)=>{const o=document.createElement("canvas");o.width=t,o.height=e,o.style.width=`${t}px`,o.style.height=`${e}px`;const i=o.getContext("2d");return i.fillStyle=k("--background-color"),i.fillRect(0,0,o.width,o.height),{context:i,canvas:o}},C=(t,e)=>{t.font="bold 48px Arial",t.fillStyle=k("--text-color");const o=new Date(Date.now()).toDateString();t.fillText(`Kinklist (v${m}) ${e}, @ ${o}`,10,50)},x=t=>{const e=t.reduce((t,e)=>t+_(e),0),o=new Array(p.numCols).fill([]).map(()=>[]);let i=0,n=0,s=0;for(const a of t){const t=_(a);n+t/2>e/p.numCols&&i+1<p.numCols&&(i++,n=0),n+=t,o[i].push(a),s=Math.max(s,n)}return{columns:o,tallestColumnHeight:s}},_=t=>{const e=t.subcategories.length>1?p.titleWithSubcategoryHeight:p.titleWithoutSubcategoryHeight;return e+t.kinks.length*p.categoryRowHeight},w=(t,e,o,i,n,s)=>{t.fillStyle=k("--text-color"),t.font="bold 36px Arial",t.fillText(i.name,e,o+10);const a=i.subcategories.length>1;a&&(t.font="italic 24px Arial",t.fillText(i.subcategories.join(", "),e,o+50));for(let r=0;r<i.kinks.length;r++){const l=i.kinks[r],c=o+(a?p.titleWithSubcategoryHeight:p.titleWithoutSubcategoryHeight)+r*p.categoryRowHeight;t.fillStyle=k("--text-color"),t.font="24px Arial",t.fillText(l.name,e+10+50*i.subcategories.length,c-6);for(let o=0;o<i.subcategories.length;o++){const s=i.subcategories[o],a=n.find(t=>t.name===l.ratings[s]),r=e+20+40*o,u=c-20;t.beginPath(),t.arc(r,u,16,0,2*Math.PI,!1);const d=document.querySelectorAll("dl .rating dt span")[n.indexOf(a)],g=k("background-color",d);t.fillStyle=g,t.fill(),t.strokeStyle=k("--border-color"),t.lineWidth=2,t.stroke()}if(s&&l.comment){const o=t.measureText(l.name).width,n=e+40+40*i.subcategories.length+o;t.beginPath(),t.ellipse(n,c-20,12,10,0,.4*Math.PI,.1*Math.PI,!1),t.lineTo(n,c-4),t.lineTo(n,c-10),t.fillStyle=k("--background-color"),t.fill(),t.strokeStyle=k("--border-color"),t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(n-3,c-23),t.lineTo(n+1,c-23),t.moveTo(n-3,c-17),t.lineTo(n+3,c-17),t.fillStyle=k("--background-color"),t.fill(),t.strokeStyle=k("--border-color"),t.lineWidth=2,t.stroke()}}},A=(t,e,o)=>{t.font="bold 26px Arial",t.fillStyle=k("--text-color");let i=o-p.legendOffset-p.legendItemWidth*e.length;for(const n of e){t.beginPath(),t.arc(i,34,16,0,2*Math.PI,!1);const o=document.querySelectorAll("dl .rating dt span")[e.indexOf(n)],s=k("background-color",o);t.fillStyle=s,t.fill(),t.strokeStyle=k("--border-color"),t.lineWidth=2,t.stroke(),t.fillStyle=k("--text-color"),t.fillText(n.name,i+30,44),i+=p.legendItemWidth}},S=(t,e,o)=>{const i=JSON.stringify({username:t,categories:e,ratings:o}),n=[...i].map(t=>t.charCodeAt(0)),s=n.map(t=>({r:254-(7&t),g:254-((56&t)>>3),b:254-((192&t)>>6)}));return s},D=(t,e,o,i)=>{let n=0,s=o-1;for(const a of i)t.beginPath(),t.fillStyle=`rgb(${a.r}, ${a.g}, ${a.b})`,t.fillRect(n,s,1,1),t.fill(),n++,n>=e&&(n=0,s--)},P="https://kinklist-v2.vercel.app",T=async t=>{const e=await new Promise(e=>t.toBlob(e,"image/png"));if(!e)throw new Error("Failed to convert canvas to blob");const o=await fetch(`${P}/api/upload`,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:e}),i=await o.json();if(!o.ok||200!==i.status_code)throw new Error(i.error?.message||"Upload failed");return i.image.id_encoded};o(8335),o(4603),o(7566),o(8721);const F=async t=>{const e=await B(t),{canvas:o,context:i}=$(e),n=I(o,i),{categories:s,ratings:a,username:r}=JSON.parse(n),l=s.map(t=>{const e={...t,id:c(),kinks:t.kinks.map(t=>({...t,id:c()}))};return e});return{username:r,ratings:a,categories:l}},B=t=>new Promise((e,o)=>{const i=URL.createObjectURL(t),n=new Image;n.onerror=()=>o(),n.onload=()=>{URL.revokeObjectURL(i),e(n)},n.src=i}),$=t=>{const e=document.createElement("canvas");e.width=t.naturalWidth,e.height=t.naturalHeight;const o=e.getContext("2d");return o.drawImage(t,0,0,t.naturalWidth,e.height),{canvas:e,context:o}},I=(t,e)=>{let o="";for(let i=t.height-1;i>=0;i--)for(let n=0;n<t.width;n++){const t=e.getImageData(n,i,1,1).data;if(223===t[0]&&224===t[1]&&226===t[2]||21===t[0]&&20===t[1]&&19===t[2])return o;const s=254-t[0],a=254-t[1],r=254-t[2],l=s+(a<<3)+(r<<6),c=String.fromCharCode(l);o+=c}return""},R=async t=>{const e=await fetch(`https://iili.io/${t}.png`),o=await e.blob();return F(o)},O=async(t,e)=>new Promise(o=>{const i=document.createElement("div");document.body.appendChild(i);const n=new t({propsData:e}).$mount(i);n.$on("close",t=>{n.$destroy(),n.$el.parentElement?.removeChild(n.$el),o(t)})});var E=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"kink-category"},[e("header",[e("h2",[t._v(t._s(t.category.name))]),e("button",{staticClass:"add-icon add-kink icon-button",on:{click:function(e){return t.addKink()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Add Kink")])]),e("button",{staticClass:"edit-icon edit-category icon-button",on:{click:function(e){return t.editCategory()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Edit category")])]),e("button",{staticClass:"remove-icon remove-category icon-button",on:{click:function(e){return t.removeCategory()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Remove category")])])]),e("div",{staticClass:"category-kinks"},t._l(t.category.kinks,function(o){return e("Kink",{key:`${t.category.id}-${o.id}`,staticClass:"kink-item",attrs:{kink:o,category:t.category,ratings:t.ratings},on:{remove:function(e){return t.removeKink(o)}}})}),1)])},N=[],H=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:`Comment for ${t.category.name}: ${t.kink.name}`},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"comment-dialog-content"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.kink.comment,expression:"kink.comment"}],ref:"textarea",domProps:{value:t.kink.comment},on:{input:function(e){e.target.composing||t.$set(t.kink,"comment",e.target.value)}}})])])},K=[],U=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dialog-container"},[t.hasBackdrop?e("div",{staticClass:"dialog-backdrop"}):t._e(),e("div",{staticClass:"dialog"},[e("div",{staticClass:"dialog-title"},[e("h2",[t._v(t._s(t.titleText))]),t.closeable?e("button",{staticClass:"dialog-close hide-text",on:{click:function(e){return t.$emit("close")}}},[t._v("Close dialog")]):t._e()]),e("div",{staticClass:"dialog-body"},[t._t("default")],2),t.buttons?e("div",{staticClass:"dialog-footer"},t._l(t.dialogButtons,function(o){return e("button",{key:o.text,class:o.class,on:{click:function(e){t.$emit(o.text.toLowerCase())}}},[t._v(" "+t._s(o.text)+" ")])}),0):t._e()])])},W=[];let L=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"hasBackdrop",void 0),(0,a.A)(this,"closeable",void 0),(0,a.A)(this,"titleText",void 0),(0,a.A)(this,"buttons",void 0)}get dialogButtons(){return this.buttons?this.buttons.map(t=>"!"===t[0]?{text:t.slice(1),class:"dialog-button dialog-button--primary"}:{text:t,class:"dialog-button"}):[]}};(0,r.Cg)([(0,l.kv)({default:!0})],L.prototype,"hasBackdrop",void 0),(0,r.Cg)([(0,l.kv)({default:!0})],L.prototype,"closeable",void 0),(0,r.Cg)([(0,l.kv)({required:!0})],L.prototype,"titleText",void 0),(0,r.Cg)([(0,l.kv)({required:!1})],L.prototype,"buttons",void 0),L=(0,r.Cg)([l.uA],L);var M=L,G=M,V=o(1656),j=(0,V.A)(G,U,W,!1,null,"28052a42",null),q=j.exports;let z=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"category",void 0),(0,a.A)(this,"kink",void 0)}close(){}mounted(){this.$refs.textarea?.focus()}};(0,r.Cg)([(0,l.kv)()],z.prototype,"category",void 0),(0,r.Cg)([(0,l.kv)()],z.prototype,"kink",void 0),(0,r.Cg)([(0,l.O5)()],z.prototype,"close",null),z=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],z);var J=z,Y=J,X=(0,V.A)(Y,H,K,!1,null,"1a00fb46",null),Z=X.exports,Q=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:t.title},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"edit-category-dialog-content"},[e("div",{staticClass:"edit-category-body"},[e("div",{staticClass:"category-name"},[e("label",{attrs:{for:"NameInput"}},[t._v("Category name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],ref:"input",attrs:{id:"NameInput",type:"text"},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}})]),e("div",{staticClass:"subcategories-head"},[e("label",[t._v("Subcategories")]),e("button",{staticClass:"add-subcategory icon-button add-icon",on:{click:function(e){return t.addSubcategory()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Add subcategory")])])]),e("ul",{staticClass:"subcategories"},t._l(t.subcategories,function(o,i){return e("li",{key:`sucategory-${i}`,staticClass:"subcategory"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.subcategories[i],expression:"subcategories[i]"}],domProps:{value:t.subcategories[i]},on:{input:function(e){e.target.composing||t.$set(t.subcategories,i,e.target.value)}}}),e("button",{staticClass:"remove-subcategory icon-button remove-icon",on:{click:function(e){return t.removeSubcategory(i)}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Remove subcategory")])])])}),0)]),e("div",{staticClass:"actions"},[e("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),e("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},tt=[];let et=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"category",void 0),(0,a.A)(this,"categoryName",""),(0,a.A)(this,"subcategories",["General"])}get title(){return this.category?"Edit category":"New category"}updateModel(){this.category?(this.categoryName=this.category.name,this.subcategories=this.category.subcategories.slice()):(this.categoryName="",this.subcategories=["General"])}addSubcategory(){this.subcategories.push("")}removeSubcategory(t){this.subcategories.splice(t,1)}close(){this.$emit("close",!1)}ok(){this.$emit("close",{name:this.categoryName,subcategories:this.subcategories})}mounted(){this.$refs.input?.focus()}};(0,r.Cg)([(0,l.kv)()],et.prototype,"category",void 0),(0,r.Cg)([(0,l.ox)("category",{immediate:!0})],et.prototype,"updateModel",null),et=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],et);var ot=et,it=ot,nt=(0,V.A)(it,Q,tt,!1,null,"209ef674",null),st=nt.exports,at=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"kink-item"},[e("header",{staticClass:"kink-head"},[e("h3",[t._v(t._s(t.kink.name))])]),e("div",{staticClass:"kink-ratings"},t._l(t.category.subcategories,function(o){return e("div",{key:o,staticClass:"kink-rating"},[t.category.subcategories.length>1?e("div",{staticClass:"subcategory-text"},[t._v(t._s(o))]):t._e(),e("div",{staticClass:"rating-wrapper"},t._l(t.ratings,function(i){return e("div",{key:`kink:${t.kink.name}-sub:${o}-${i.name}`,staticClass:"radio-container",style:{"--color":i.color}},[e("label",{class:{active:t.kink.ratings[o]===i.name}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.kink.ratings[o],expression:"kink.ratings[subcategory]"}],attrs:{name:`${t.category.name}-kink:${t.kink.name}-sub:${o}`,type:"radio"},domProps:{value:i.name,checked:t._q(t.kink.ratings[o],i.name)},on:{change:function(e){return t.$set(t.kink.ratings,o,i.name)}}})])])}),0)])}),0),e("div",{staticClass:"kink-actions"},[e("button",{staticClass:"icon-button edit-icon",on:{click:function(e){return t.edit()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Edit Kink")]),e("span",{staticClass:"icon-edit"})]),e("button",{staticClass:"icon-button remove-icon",on:{click:function(e){return t.remove()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Remove Kink")]),e("span",{staticClass:"icon-remove"})])]),e("div",{staticClass:"comment-action"},[e("button",{staticClass:"icon-button",on:{click:function(e){return t.addComment()}}},[e("span",{staticClass:"sr-only tooltip"},[t.kink.comment?[t._v("View/Edit/Remove Comment")]:[t._v("Add Comment")]],2),e("span",{class:{"icon-comment":!0,"has-comment":t.kink.comment}},[e("span")])])])])},rt=[],lt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:t.title},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"prompt-dialog-content"},[e("div",{staticClass:"prompt-body"},[e("label",{attrs:{for:"PromptInput"}},[t._v(t._s(t.inputLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",attrs:{id:"PromptInput",type:"text"},domProps:{value:t.model},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ok()},input:function(e){e.target.composing||(t.model=e.target.value)}}})]),e("div",{staticClass:"actions"},[e("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),e("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},ct=[];let ut=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"title",void 0),(0,a.A)(this,"inputLabel",void 0),(0,a.A)(this,"value",void 0),(0,a.A)(this,"model","")}updateModel(){this.model=this.value}close(){this.$emit("close",!1)}ok(){this.$emit("close",this.model)}mounted(){this.$refs.input?.focus()}};(0,r.Cg)([(0,l.kv)()],ut.prototype,"title",void 0),(0,r.Cg)([(0,l.kv)()],ut.prototype,"inputLabel",void 0),(0,r.Cg)([(0,l.kv)()],ut.prototype,"value",void 0),(0,r.Cg)([(0,l.ox)("value",{immediate:!0})],ut.prototype,"updateModel",null),ut=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],ut);var dt=ut,gt=dt,mt=(0,V.A)(gt,lt,ct,!1,null,"321f4960",null),pt=mt.exports;let ht=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"kink",void 0),(0,a.A)(this,"category",void 0),(0,a.A)(this,"ratings",void 0)}async edit(){const t=await O(pt,{title:"Edit kink",inputLabel:"Kink name:",value:this.kink.name});!1!==t&&(t?this.kink.name=t:this.remove())}remove(){this.$emit("remove")}async addComment(){await O(Z,{category:this.category,kink:this.kink}),this.kink.comment?.trim()||this.removeComment()}removeComment(){this.$set(this.kink,"comment",void 0)}};(0,r.Cg)([(0,l.kv)()],ht.prototype,"kink",void 0),(0,r.Cg)([(0,l.kv)()],ht.prototype,"category",void 0),(0,r.Cg)([(0,l.kv)()],ht.prototype,"ratings",void 0),ht=(0,r.Cg)([l.uA],ht);var vt=ht,ft=vt,yt=(0,V.A)(ft,at,rt,!1,null,"745cc732",null),kt=yt.exports;let bt=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"category",void 0),(0,a.A)(this,"ratings",void 0),(0,a.A)(this,"subcategories",[])}updateSubcategoriesModel(){this.subcategories=[...this.category.subcategories]}async editCategory(){const t=await O(st,{category:this.category});t&&(this.category.name=t.name,this.category.subcategories=t.subcategories,this.category.kinks=this.category.kinks.map(e=>({...e,ratings:t.subcategories.reduce((t,o)=>({...t,[o]:e.ratings[o]||this.ratings[0].name}),{})})))}removeCategory(){this.$emit("removeCategory")}subcategoryUpdated(t){if(t.length===this.category.subcategories.length){const e=t.findIndex((t,e)=>this.category.subcategories[e]!==t);this.$emit("renameSubcategory",{oldName:this.category.subcategories[e],newName:t[e]})}}addSubcategory(){this.$emit("addSubcategory")}removeSubcategory(t){this.$emit("removeSubcategory",t)}addKink(){this.$emit("addKink")}removeKink(t){this.$emit("removeKink",t)}async addComment(t){await O(Z,{category:this.category,kink:t}),t.comment?.trim()||this.removeComment(t)}removeComment(t){this.$set(t,"comment",void 0)}};(0,r.Cg)([(0,l.kv)()],bt.prototype,"category",void 0),(0,r.Cg)([(0,l.kv)()],bt.prototype,"ratings",void 0),(0,r.Cg)([(0,l.ox)("category.subcategories",{deep:!0,immediate:!0})],bt.prototype,"updateSubcategoriesModel",null),(0,r.Cg)([(0,l.ox)("subcategories",{deep:!0})],bt.prototype,"subcategoryUpdated",null),bt=(0,r.Cg)([(0,l.uA)({components:{Kink:kt}})],bt);var Ct=bt,xt=Ct,_t=(0,V.A)(xt,E,N,!1,null,"fac554b8",null),wt=_t.exports,At=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:"Kinklist created"},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"upload-dialog-content"},[e("h3",[t._v("FreeImageHost link")]),e("div",{staticClass:"row"},[e("input",{ref:"freeImageHostUrlRef",attrs:{readonly:""},domProps:{value:t.uploadUrl}}),e("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("freeImageHostUrlRef",t.uploadUrl)}}},[t._v("Copy to clipboard")]),e("a",{staticClass:"hide-text",attrs:{href:t.uploadUrl,target:"_blank"}},[t._v("Goto FreeImageHost")])]),e("h3",[t._v("Kinklist link")]),e("div",{staticClass:"row"},[e("input",{ref:"viewUrlRef",attrs:{readonly:""},domProps:{value:t.viewUrl}}),e("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("viewUrlRef",t.viewUrl)}}},[t._v("Copy to clipboard")])]),t.hasEncodedData?[e("h3",[t._v("BBCode")]),e("div",{staticClass:"row"},[e("textarea",{ref:"bbcodeRef",attrs:{readonly:""},domProps:{textContent:t._s(t.bbcode)}}),e("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("bbcodeRef",t.bbcode)}}},[t._v("Copy to clipboard")])])]:t._e()],2),e("transition",{attrs:{name:"slide"}},[t.toast?e("div",{staticClass:"toast"},[t._v(t._s(t.toast))]):t._e()])],1)},St=[];let Dt=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"uploadId",void 0),(0,a.A)(this,"hasEncodedData",void 0),(0,a.A)(this,"toast",""),(0,a.A)(this,"toastTimeout",0)}get uploadUrl(){return this.uploadId?`https://iili.io/${this.uploadId}.png`:""}get viewUrl(){return this.uploadId?`${location.protocol}//${location.host}${location.pathname}#${this.uploadId}`:""}get bbcode(){return`[Kinklist](${this.uploadUrl}) (To view included notes: [Kinklist Details](${this.viewUrl}))`}copyUploadUrlToClipboard(t,e){this.$refs?.[t]?.select(),navigator?.clipboard?navigator.clipboard.writeText(e):document.execCommand("copy"),this.toast="URL copied to clipboard",clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.toast=""},500)}close(){}};(0,r.Cg)([(0,l.kv)()],Dt.prototype,"uploadId",void 0),(0,r.Cg)([(0,l.kv)()],Dt.prototype,"hasEncodedData",void 0),(0,r.Cg)([(0,l.O5)()],Dt.prototype,"close",null),Dt=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],Dt);var Pt=Dt,Tt=Pt,Ft=(0,V.A)(Tt,At,St,!1,null,"30b8097c",null),Bt=Ft.exports,$t=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:"Error"},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"error-dialog-content"},[t._v(" "+t._s(t.message)+" ")])])},It=[];let Rt=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"message",void 0)}close(){}};(0,r.Cg)([(0,l.kv)()],Rt.prototype,"message",void 0),(0,r.Cg)([(0,l.O5)()],Rt.prototype,"close",null),Rt=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],Rt);var Ot=Rt,Et=Ot,Nt=(0,V.A)(Et,$t,It,!1,null,"7541c70d",null),Ht=Nt.exports,Kt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:"About"},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"about-dialog-content"},[e("p",[t._v(" Kinklist was created by "),e("a",{attrs:{href:"https://www.reddit.com/user/Goctionni/"}},[t._v("Goctionni")]),t._v(" to help people easily and quickly communicate their preferences. It is open source under the MIT license. You are thus free modify source code in any way you wish. Credit is appreciated but not required. ")]),e("p",[t._v(" This version was modified by Lord-Kamina. If you have questions, suggestions or fixes, file an issue over at "),e("a",{attrs:{href:"https://github.com/Lord-Kamina/kinklist-v2",target:"_blank"}},[t._v("Github")]),t._v(". ")])])])},Ut=[];let Wt=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"message",void 0)}close(){}};(0,r.Cg)([(0,l.kv)()],Wt.prototype,"message",void 0),(0,r.Cg)([(0,l.O5)()],Wt.prototype,"close",null),Wt=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],Wt);var Lt=Wt,Mt=Lt,Gt=(0,V.A)(Mt,Kt,Ut,!1,null,"d7eda3c0",null),Vt=Gt.exports,jt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{on:{click:function(e){return t.emitClick()}}},[e("transition",{attrs:{name:"slide"}},[e("span",{key:`btn-text-${t.loading}`,staticClass:"btn-text"},[t._v(t._s(t.loading?"Uploading":"Export"))])]),t.loading?e("svg",{attrs:{viewBox:"0 0 150 37"}},[e("rect",{attrs:{rx:"2"}})]):t._e()],1)},qt=[];let zt=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"loading",void 0)}emitClick(){this.loading||this.$emit("click")}};(0,r.Cg)([(0,l.kv)()],zt.prototype,"loading",void 0),zt=(0,r.Cg)([l.uA],zt);var Jt=zt,Yt=Jt,Xt=(0,V.A)(Yt,jt,qt,!1,null,"c1bc9d98",null),Zt=Xt.exports,Qt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{on:{click:function(e){return t.triggerFileInput()}}},[e("span",{staticClass:"btn-text"},[t._v("Import")]),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png,image/jpeg,image/jpg"},on:{change:t.handleFileSelect}})])},te=[];let ee=class extends l.lD{triggerFileInput(){const t=this.$refs.fileInput;t.click()}handleFileSelect(t){const e=t.target,o=e.files?.[0];o&&(this.$emit("fileSelected",o),e.value="")}};ee=(0,r.Cg)([l.uA],ee);var oe=ee,ie=oe,ne=(0,V.A)(ie,Qt,te,!1,null,"4881facc",null),se=ne.exports,ae=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{on:{click:function(e){return t.emitClick()}}},[e("span",{staticClass:"btn-text"},[t._v("Download")])])},re=[];let le=class extends l.lD{emitClick(){this.$emit("click")}};le=(0,r.Cg)([l.uA],le);var ce=le,ue=ce,de=(0,V.A)(ue,ae,re,!1,null,"21efc8f2",null),ge=de.exports,me=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},pe=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("main",[e("p",[t._v("Importing data...")]),e("span",{staticClass:"loading-indicator"})])}];let he=class extends l.lD{};he=(0,r.Cg)([l.uA],he);var ve=he,fe=ve,ye=(0,V.A)(fe,me,pe,!1,null,"6200190e",null),ke=ye.exports,be=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"legend"},[e("button",{staticClass:"icon-button edit-icon edit-legend",on:{click:function(e){return t.editRatings()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Edit ratings")])]),e("dl",t._l(t.ratings,function(o,i){return e("div",{key:`rating-${i}`,staticClass:"rating",style:{"--color":o.color}},[t._m(0,!0),e("dd",[t._v(t._s(o.name))])])}),0)])},Ce=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("dt",[e("span",{staticClass:"color"})])}],xe=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Dialog",{attrs:{titleText:"Edit ratings"},on:{close:function(e){return t.close()}}},[e("div",{staticClass:"ratings-dialog-content"},[e("p",[e("strong",[t._v("Warning:")]),t._v(" Though you can edit the ratings and colors for kinklist, the current selection of colors was made to be distinguishable by people with colorblindness. Changing the used colors is therefor discouraged. ")]),e("div",{staticClass:"ratings-head"},[e("h3",[t._v("Ratings")]),e("button",{staticClass:"icon-button add-icon",on:{click:function(e){return t.add()}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Add rating")])])]),e("ul",{staticClass:"ratings"},t._l(t.model,function(o,i){return e("li",{key:`rating-${i}`,staticClass:"rating"},[e("label",[t._v(" Name "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model[i].name,expression:"model[i].name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.model[i].name},on:{input:function(e){e.target.composing||t.$set(t.model[i],"name",e.target.value)}}})]),e("label",[t._v(" Color "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.model[i].color,expression:"model[i].color"}],attrs:{type:"text",placeholder:"Color"},domProps:{value:t.model[i].color},on:{input:function(e){e.target.composing||t.$set(t.model[i],"color",e.target.value)}}})]),e("button",{staticClass:"icon-button remove-icon remove-rating",on:{click:function(e){return t.remove(i)}}},[e("span",{staticClass:"sr-only tooltip"},[t._v("Remove rating")])])])}),0),e("div",{staticClass:"actions"},[e("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),e("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},_e=[];let we=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"ratings",void 0),(0,a.A)(this,"model",[])}updateModel(){this.model=this.ratings.map(t=>({...t}))}remove(t){this.model.splice(t,1)}add(){this.model.push({name:"",color:"--gen-pair(#121212)"})}close(){this.$emit("close",!1)}ok(){this.$emit("close",this.model.map(t=>({...t})).filter(t=>t))}};(0,r.Cg)([(0,l.kv)()],we.prototype,"ratings",void 0),(0,r.Cg)([(0,l.ox)("value",{immediate:!0})],we.prototype,"updateModel",null),we=(0,r.Cg)([(0,l.uA)({components:{Dialog:q}})],we);var Ae=we,Se=Ae,De=(0,V.A)(Se,xe,_e,!1,null,"24f9931e",null),Pe=De.exports;let Te=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"ratings",void 0)}async editRatings(){const t=await O(Pe,{ratings:this.ratings});t&&this.$emit("updateRatings",t)}};(0,r.Cg)([(0,l.kv)()],Te.prototype,"ratings",void 0),Te=(0,r.Cg)([l.uA],Te);var Fe=Te,Be=Fe,$e=(0,V.A)(Be,be,Ce,!1,null,"30cc5096",null),Ie=$e.exports,Re=function(){var t=this,e=t._self._c;return e("button",{on:{click:t.cycleTheme}},[e("span",{staticClass:"btn-text"},[t._v(t._s(t.currentThemeIcon)+" "+t._s(t.currentThemeLabel))])])},Oe=[],Ee={data(){return{theme:"auto",themes:["auto","light","dark"]}},computed:{currentThemeLabel(){return this.theme.charAt(0).toUpperCase()+this.theme.slice(1)},currentThemeIcon(){const t={auto:"âš™ï¸",light:"â˜€ï¸",dark:"ðŸŒ™"};return t[this.theme]}},watch:{theme(t){this.applyThemeToDocument(t)}},mounted(){this.applyThemeToDocument("auto")},methods:{cycleTheme(){const t=this.themes.indexOf(this.theme),e=(t+1)%this.themes.length;this.theme=this.themes[e]},applyThemeToDocument(t){const e=document.documentElement;"auto"===t?e.removeAttribute("data-theme"):e.setAttribute("data-theme",t)}}},Ne=Ee,He=(0,V.A)(Ne,Re,Oe,!1,null,"056fd740",null),Ke=He.exports;const Ue=t=>{const e=t.toDataURL(),o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download","kinklist.png"),document.body.appendChild(o),o.click(),requestAnimationFrame(()=>{document.body.removeChild(o)})};let We=class extends l.lD{constructor(...t){super(...t),(0,a.A)(this,"ratings",[]),(0,a.A)(this,"categories",[]),(0,a.A)(this,"username",""),(0,a.A)(this,"uploadId",""),(0,a.A)(this,"uploading",!1),(0,a.A)(this,"importing",!1),(0,a.A)(this,"showOptions",!1),(0,a.A)(this,"currentTheme","auto"),(0,a.A)(this,"themes",["auto","light","dark"]),(0,a.A)(this,"encodeData",!0),(0,a.A)(this,"numColumns",4)}get uploadUrl(){return this.uploadId?`https://iili.io/${this.uploadId}.png`:""}get columns(){const t=[],e=108,o=27,i=this.categories.length*e+this.categories.map(t=>t.kinks).flat().length*o,n=i/this.numColumns;let s=0,a=[];t.push(a);for(const r of this.categories){const i=e+r.kinks.length*o;s+i/2>n&&(a=[],t.push(a),s=0),a.push(r),s+=i}return t}async created(){await this.tryLoadFreeImageHostData()||this.loadDefaults(),this.updateNumColumns(),window.addEventListener("resize",()=>{this.updateNumColumns()})}updateNumColumns(){const t=Math.min(window.innerWidth,1740);this.numColumns=Math.max(1,Math.floor(t/400))}downloadImage(){const t=v(this.categories,this.ratings,this.username,this.encodeData);Ue(t)}async importFromFile(t){try{this.importing=!0;const{categories:e,ratings:o,username:i}=await F(t);this.username=i,this.categories=e,this.ratings=o,this.importing=!1}catch(e){O(Ht,{message:"Could not read kinklist data from image - ensure it was exported with 'Encode data' enabled"}),console.error("Something went wrong loading/parsing kinklist from file"),console.error(e),this.importing=!1}}async exportImage(){try{this.uploading=!0;const t=v(this.categories,this.ratings,this.username,this.encodeData),e=await T(t),o=this.categories.some(t=>t.kinks.some(t=>t.comment));O(Bt,{uploadId:e,hasEncodedData:this.encodeData&&o})}catch(t){O(Ht,{message:"Something went wrong uploading the image"}),console.error("Something went wrong uploading kinklist"),console.error(t)}this.uploading=!1}showAbout(){this.toggleOptions(!1),O(Vt,{})}async addCategory(){const t=await O(st,{});t&&this.categories.push({id:c(),name:t.name,subcategories:t.subcategories,kinks:[{id:c(),name:"Example kink",ratings:{General:this.ratings[0].name}}]})}removeCategory(t){this.categories=this.categories.filter(e=>e!=t)}async addKink(t){const e=await O(pt,{title:"Add kink",inputLabel:"Kink name:",value:""});e&&t.kinks.push({id:c(),name:e,ratings:t.subcategories.reduce((t,e)=>({...t,[e]:this.ratings[0].name}),{})})}removeKink(t,e){t.kinks=t.kinks.filter(t=>t.id!==e.id)}updateRatings(t){this.ratings=t.map(t=>({...t}));for(const e of this.categories)for(const o of e.kinks)o.ratings=e.subcategories.reduce((e,i)=>{const n=t.some(t=>t.name===o.ratings[i])?o.ratings[i]:t[0].name;return{...e,[i]:n}},{})}toggleOptions(t){this.showOptions=t,document.body.style.overflow=t?"hidden":"auto"}async tryLoadFreeImageHostData(){const t=this.getFreeImageHostHash();if(!t)return!1;try{this.importing=!0;const{categories:e,ratings:o,username:i}=await R(t);return this.username=i,this.categories=e,this.ratings=o,this.importing=!1,!0}catch(e){return O(Ht,{message:"Something went wrong parsing loading kinklist data"}),console.error("Something went wrong downloading/parsing kinklist"),console.error(e),this.importing=!1,!1}}getFreeImageHostHash(){if(!location.hash)return!1;if(location.hash.length<=1)return!1;if(!location.hash.match(/^#[a-zA-Z0-9]{3,10}$/))return!1;const t=location.hash.substr(1);return t}loadDefaults(){this.username="",this.ratings=u(),this.categories=g(this.ratings[0].name)}};We=(0,r.Cg)([(0,l.uA)({components:{Category:wt,ExportButton:Zt,ImportButton:se,DownloadButton:ge,Importing:ke,Legend:Ie,ThemeSwitch:Ke}})],We);var Le=We,Me=Le,Ge=(0,V.A)(Me,n,s,!1,null,"5960532d",null),Ve=Ge.exports;i.Ay.config.productionTip=!1,new i.Ay({render:t=>t(Ve)}).$mount("#app")}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,i,n,s){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],s=t[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every(function(t){return o.O[t](i[l])})?i.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,n,s]}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,a=i[0],r=i[1],l=i[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var u=l(o)}for(e&&e(i);c<a.length;c++)s=a[c],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},i=self["webpackChunkkinklistv2"]=self["webpackChunkkinklistv2"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],function(){return o(1160)});i=o.O(i)})();
//# sourceMappingURL=app.eeb6d23f.js.map